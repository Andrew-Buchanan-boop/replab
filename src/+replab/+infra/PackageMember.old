classdef PackageMember < replab.infra.CodeBsaeMemberWithSource
    
    properties
        name % charstring: function or class identifier
    end
    
    methods
        
        function str = headerStr(self)
            str = sprintf('%s (%s)', self.name, self.kind);
        end
        
        function str = shortKind(self)
        % Returns a shorthand (cls or fun) describing the type of this package member
            if isa(self, 'replab.infra.Class')
                kind = 'cls';
            elseif isa(self, 'replab.infra.Function')
                kind = 'fun';
            else
                error('Unknown kind.');
            end
        end
        
        function str = kind(self)
            if isa(self, 'replab.infra.Class')
                kind = 'class';
            elseif isa(self, 'replab.infra.Function')
                kind = 'function';
            else
                error('Unknown kind.');
            end
        end
        
        function parts = identifierParts(self)
            parts = self.packagePathParts
            
            %function str = fullName(self)
            %    str = strjoin(horzcat(self.packageNameParts, {self.name}), '.');
            %end
            
            %function str = sphinxFullName(self)
            %    pp = strjoin(cellfun(@(x) ['+' x], self.packageNameParts, 'uniform', 0), '.');
            %    str = [pp '.' self.name];
            %end
            
        end

    end

end
